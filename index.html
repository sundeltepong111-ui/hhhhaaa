<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Create Server - Pterodactyl</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white flex items-center justify-center min-h-screen">
  <div class="bg-gray-800 p-6 rounded-xl shadow-lg w-full max-w-md">
    <h1 class="text-2xl font-bold mb-5 text-center">Create Server</h1>
    
    <div class="space-y-3">
      <input id="name" class="w-full p-3 rounded bg-gray-700" placeholder="Nama Server" />
      <input id="egg" class="w-full p-3 rounded bg-gray-700" placeholder="Egg ID" value="1" />
      <input id="ram" class="w-full p-3 rounded bg-gray-700" placeholder="RAM (MB)" />
      <input id="cpu" class="w-full p-3 rounded bg-gray-700" placeholder="CPU (%)" />
      <input id="disk" class="w-full p-3 rounded bg-gray-700" placeholder="Disk (MB)" />

      <button onclick="createServer()" class="w-full bg-blue-600 hover:bg-blue-700 p-3 rounded">Buat Server</button>
    </div>

    <p id="result" class="mt-4 text-center text-sm"></p>
  </div>

  <script>
    async function createServer() {
      const name = document.getElementById("name").value;
      const egg = document.getElementById("egg").value;
      const ram = document.getElementById("ram").value;
      const cpu = document.getElementById("cpu").value;
      const disk = document.getElementById("disk").value;

      document.getElementById("result").innerText = "Membuat server...";

      try {
        const res = await fetch("/api/create", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ name, egg, ram, cpu, disk })
        });

        const data = await res.json();
        if (res.ok) {
          document.getElementById("result").innerText = "Server berhasil dibuat âœ…";
        } else {
          document.getElementById("result").innerText = "Error: " + (data.error || "Gagal membuat server");
        }
      } catch (err) {
        document.getElementById("result").innerText = "Gagal terhubung ke server!";
      }
    }
  </script>
</body>
</html>